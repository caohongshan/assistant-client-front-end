(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/uni-im-sound/uni-im-sound"],{3035:function(n,t,e){"use strict";e.r(t);var o=e("ddc7"),s=e("89f9");for(var i in s)["default"].indexOf(i)<0&&function(n){e.d(t,n,(function(){return s[n]}))}(i);e("85a2");var u=e("f0c5"),c=Object(u["a"])(s["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],void 0);t["default"]=c.exports},"334a":function(n,t,e){},"85a2":function(n,t,e){"use strict";var o=e("334a"),s=e.n(o);s.a},"89f9":function(n,t,e){"use strict";e.r(t);var o=e("b93e"),s=e.n(o);for(var i in o)["default"].indexOf(i)<0&&function(n){e.d(t,n,(function(){return o[n]}))}(i);t["default"]=s.a},b93e:function(n,t,e){"use strict";(function(n,e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s,i=n.getRecorderManager(),u=n.createInnerAudioContext();u.autoplay=!0;var c=n.getWindowInfo(),a={emits:["success"],data:function(){return{soundState:0,soundProgress:0,cancel:!1,time:0,systemInfo:{safeAreaInsets:{bottom:0}}}},computed:{},created:function(){var t=this;this.systemInfo=n.getSystemInfoSync(),i.onStop((function(o){if(t.cancel)console.log("用户取消了录音功能","this.time:"+t.time);else{if(t.time<2)return n.showToast({title:"语音时间过短",icon:"none"});n.showLoading({title:"上传中",mask:!1}),e.uploadFile({filePath:o.tempFilePath,cloudPath:"uni-im/"+e.getCurrentUserInfo().uid+"/sound/"+Date.now(),success:function(e){console.log("uniCloud.uploadFile-success",e,"success",{url:e.fileID,time:t.time});try{t.$emit("success",{url:e.fileID,time:t.time})}catch(e){console.log(e)}n.hideLoading()},fail:function(t){console.log(t),n.showModal({content:JSON.stringify(t),showCancel:!1,confirmText:"知道了"})},complete:function(t){console.log("complete",t),n.hideLoading()}})}})),i.onStart((function(n){})),i.onPause((function(n){})),i.onError((function(n){console.error(n)}))},methods:{touchmove:function(n){var t=n.touches[0].screenY-c.screenTop||n.touches[0].clientY;c.windowHeight-t>50?this.cancel=!0:this.cancel=!1},soundStart:function(t){var e=this;getApp().globalData.uniIm.audioContext.stop(),i.start({sampleRate:16e3,numberOfChannels:2,format:"mp3"}),s=Date.now(),console.log("soundStart"),this.soundState=1,o=setInterval((function(){e.soundProgress=parseInt(e.soundProgress)+n.upx2px(7.5)+"px",e.time=parseInt((Date.now()-s)/1e3)}),1e3)},soundEnd:function(){var n=this;i.stop(),console.log("soundEnd"),clearInterval(o),setTimeout((function(){n.soundState=0,n.soundProgress=0,n.cancel=!1}),300)}}};t.default=a}).call(this,e("543d")["default"],e("a9ff")["default"])},ddc7:function(n,t,e){"use strict";e.d(t,"b",(function(){return s})),e.d(t,"c",(function(){return i})),e.d(t,"a",(function(){return o}));var o={uniImIcons:function(){return e.e("components/uni-im-icons/uni-im-icons").then(e.bind(null,"31f0"))}},s=function(){var n=this.$createElement;this._self._c},i=[]}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/uni-im-sound/uni-im-sound-create-component',
    {
        'components/uni-im-sound/uni-im-sound-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("3035"))
        })
    },
    [['components/uni-im-sound/uni-im-sound-create-component']]
]);
