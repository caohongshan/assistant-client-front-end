{"version":3,"sources":["webpack:///H:/private/AIproject/psychic/assistant-client-front-end/uni_modules/tian-mall/components/tian-pages/tian-pages.vue?402f","webpack:///H:/private/AIproject/psychic/assistant-client-front-end/uni_modules/tian-mall/components/tian-pages/tian-pages.vue?00e9","webpack:///H:/private/AIproject/psychic/assistant-client-front-end/uni_modules/tian-mall/components/tian-pages/tian-pages.vue?4475","webpack:///H:/private/AIproject/psychic/assistant-client-front-end/uni_modules/tian-mall/components/tian-pages/tian-pages.vue?85b0","uni-app:///uni_modules/tian-mall/components/tian-pages/tian-pages.vue","webpack:///H:/private/AIproject/psychic/assistant-client-front-end/uni_modules/tian-mall/components/tian-pages/tian-pages.vue?5b65","webpack:///H:/private/AIproject/psychic/assistant-client-front-end/uni_modules/tian-mall/components/tian-pages/tian-pages.vue?2fb3"],"names":["data","goods","pageStyle","dataList","options","provide","tianPage","props","configs","type","default","styles","items","refresh","loadmore","preview","computed","hasGoodsModule","bgClassName","names","console","watch","setTimeout","created","mounted","methods","hidden","loadPage","clickPreview","delItem","buildPage","children","page_id","parent_id","db","getOne","result","Object","uni","title","backgroundColor","frontColor","top","loadData","getTree","limitLevel","startWith","checkData","e","openSku"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;AACc;;;AAGvE;AAC+K;AAC/K,gBAAgB,wLAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,4QAEN;AACP,KAAK;AACL;AACA,aAAa,gTAEN;AACP,KAAK;AACL;AACA,aAAa,4QAEN;AACP,KAAK;AACL;AACA,aAAa,0VAEN;AACP,KAAK;AACL;AACA,aAAa,iVAEN;AACP,KAAK;AACL;AACA,aAAa,sQAEN;AACP,KAAK;AACL;AACA,aAAa,gTAEN;AACP,KAAK;AACL;AACA,aAAa,oSAEN;AACP,KAAK;AACL;AACA,aAAa,gTAEN;AACP,KAAK;AACL;AACA,aAAa,kUAEN;AACP,KAAK;AACL;AACA,aAAa,sTAEN;AACP,KAAK;AACL;AACA,aAAa,oVAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxFA;AAAA;AAAA;AAAA;AAAspB,CAAgB,2qBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2E1qB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA,gBAOA;EACAA;IACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACAC;IACA;EACA;EACAC;IACAC;MACAC;MACAC;QACA;MACA;IACA;IACAC;MACAF;MACAC;QACA;MACA;IACA;IACAE;MACAH;MACAC;IACA;IACAG;MACAJ;MACAC;IACA;IACAI;MACAL;MACAC;IACA;IACAK;MACA;MACAN;MACAC;IACA;EACA;EACAM;IACA;AACA;AACA;IACAC;MACA;QACA;UAAA;QAAA;MACA;MACA;IACA;IACAC;MACA;QACA;QACA;UACAC;QACA;QACA;UACAA;QACA;QACAC;QACA;MACA;MACA;IACA;EACA;EACAC;IACAb;MACA;MACA;QACA;QACA;UACAY;UACA;UACA;UACAE;UACA;QACA;UACA;QACA;MACA;QACA;UACA;UACA;QACA;MACA;MACAF;IACA;IACAN;MACAM;IACA;IACAP;MACAO;MACA;MACA;IACA;EACA;EACAG;IACA;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACA;cAAA;gBACA;kBACA;gBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAtB,0EACA,iBACA;kBACAA;kBACAuB;gBAAA,GACA;gBACAC,mEACAC,WACA;gBAAA,IACA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OAGAC;kBACAC;gBACA;cAAA;gBAAA;gBAHAC;gBAIAhB;gBACA;kBACAiB,uDACAD,cACAA,qBACA;gBACA;cAAA;gBAEAhB;gBACA;kBACA;kBACAkB;oBACAC;kBACA;gBACA;gBACA;gBACA;kBACA;kBACAD;oBACAE;oBACAC;kBACA;gBACA;kBACA;kBACAH;oBACAE;oBACAC;kBACA;gBACA;gBACA;gBACA;kBACA,kDACAjC;gBACA;gBACA;kBAEAkC,MACA,yBADAA;kBAEA;gBACA;gBACA;gBACAtB;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAuB;MAAA;MACAT;QACAU;UACAC;UACAC;QACA;MACA,wBAEA;QAAA,IADAV;QAEA;MACA;IACA;IACAW;MAAA;MACA;QACA/C;MACA;MACAA;QACA;UACAgD;UACA;YACA;YACAA;UACA;UACA;UACAA;QACA;QACA;UACA;YACA;YACAA;UACA;UACA;UACAA;QACA;QACA;UACA;QACA;MACA;MACA;IACA;IACA;AACA;AACA;AACA;IACAC;MACA7B;MACA;MACA;IACA;EACA;AACA;AAAA,4B;;;;;;;;;;;;;AC9TA;AAAA;AAAA;AAAA;AAAyuC,CAAgB,ssCAAG,EAAC,C;;;;;;;;;;;ACA7vC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"uni_modules/tian-mall/components/tian-pages/tian-pages.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./tian-pages.vue?vue&type=template&id=512301cb&\"\nvar renderjs\nimport script from \"./tian-pages.vue?vue&type=script&lang=js&\"\nexport * from \"./tian-pages.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tian-pages.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/tian-mall/components/tian-pages/tian-pages.vue\"\nexport default component.exports","export * from \"-!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tian-pages.vue?vue&type=template&id=512301cb&\"","var components\ntry {\n  components = {\n    tianBanner: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/tian-mall/components/tian-banner/tian-banner\" */ \"@/uni_modules/tian-mall/components/tian-banner/tian-banner.vue\"\n      )\n    },\n    tianMapLocation: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/tian-mall/components/tian-map-location/tian-map-location\" */ \"@/uni_modules/tian-mall/components/tian-map-location/tian-map-location.vue\"\n      )\n    },\n    tianGrides: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/tian-mall/components/tian-grides/tian-grides\" */ \"@/uni_modules/tian-mall/components/tian-grides/tian-grides.vue\"\n      )\n    },\n    tianSearchBar: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/tian-mall/components/tian-search-bar/tian-search-bar\" */ \"@/uni_modules/tian-mall/components/tian-search-bar/tian-search-bar.vue\"\n      )\n    },\n    tianArticle: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/tian-article/components/tian-article/tian-article\" */ \"@/uni_modules/tian-article/components/tian-article/tian-article.vue\"\n      )\n    },\n    tianTitle: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/tian-mall/components/tian-title/tian-title\" */ \"@/uni_modules/tian-mall/components/tian-title/tian-title.vue\"\n      )\n    },\n    tianBannerImage: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/tian-mall/components/tian-banner-image/tian-banner-image\" */ \"@/uni_modules/tian-mall/components/tian-banner-image/tian-banner-image.vue\"\n      )\n    },\n    tianGoodsList: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/tian-mall/components/tian-goods-list/tian-goods-list\" */ \"@/uni_modules/tian-mall/components/tian-goods-list/tian-goods-list.vue\"\n      )\n    },\n    tianGoodsLayout: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/tian-mall/components/tian-goods-layout/tian-goods-layout\" */ \"@/uni_modules/tian-mall/components/tian-goods-layout/tian-goods-layout.vue\"\n      )\n    },\n    tianGoodsJoinList: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/tian-mall/components/tian-goods-join-list/tian-goods-join-list\" */ \"@/uni_modules/tian-mall/components/tian-goods-join-list/tian-goods-join-list.vue\"\n      )\n    },\n    uniIcons: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-icons/components/uni-icons/uni-icons\" */ \"@/uni_modules/uni-icons/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    tianGoodsSku: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/tian-mall/components/tian-goods-sku/tian-goods-sku\" */ \"@/uni_modules/tian-mall/components/tian-goods-sku/tian-goods-sku.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tian-pages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tian-pages.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page-container\" :style=\"pageStyle\" :class=\"bgClassName\">\r\n\t\t<view v-for=\"(subItem,index2) in dataList\" :key=\"index2\" class=\"component_item\"\r\n\t\t\t:class=\"[subItem.configs.className]\">\r\n\t\t\t<tian-banner v-if=\"subItem.component=='tian-banner'\" :configs=\"subItem.configs\" :items=\"subItem.items\" />\r\n\t\t\t<tian-map-location v-else-if=\"subItem.component=='tian-map-location'\" :configs=\"subItem.configs\">\r\n\t\t\t</tian-map-location>\r\n\t\t\t<tian-grides v-else-if=\"subItem.component=='tian-grides'\" :configs=\"subItem.configs\"\r\n\t\t\t\t:items=\"subItem.items\" />\r\n\t\t\t<tian-search-bar v-else-if=\"subItem.component=='tian-search-bar'\" :configs=\"subItem.configs\">\r\n\t\t\t</tian-search-bar>\r\n\t\t\t<tian-article v-else-if=\"subItem.component=='tian-article'\" :configs=\"subItem.configs\" :loadmore=\"loadmore\"\r\n\t\t\t\t:refresh=\"refresh\">\r\n\t\t\t</tian-article>\r\n\t\t\t<tian-title v-else-if=\"subItem.component == 'tian-title'\" :configs=\"subItem.configs\"></tian-title>\r\n\t\t\t<tian-banner-image v-else-if=\"subItem.component=='tian-banner-image'\" :configs=\"subItem.configs\"\r\n\t\t\t\t:loadmore=\"loadmore\" :refresh=\"refresh\">\r\n\t\t\t</tian-banner-image>\r\n\t\t\t<tian-goods-list v-else-if=\"subItem.component=='tian-goods-list'\" :configs=\"subItem.configs\"\r\n\t\t\t\t:withSku=\"false\" :loadmore=\"loadmore\" :refresh=\"refresh\" @click=\"openSku\"></tian-goods-list>\r\n\t\t\t<tian-goods-layout v-else-if=\"subItem.component=='tian-goods-layout'\" :configs=\"subItem.configs\"\r\n\t\t\t\t:withSku=\"false\" :refresh=\"refresh\" @click=\"openSku\"></tian-goods-layout>\r\n\t\t\t<tian-goods-join-list v-else-if=\"subItem.component=='tian-goods-join-list'\" :configs=\"subItem.configs\"\r\n\t\t\t\t:refresh=\"refresh\" :withSku=\"false\" @click=\"openSku\">\r\n\t\t\t</tian-goods-join-list>\r\n\t\t\t<!-- #ifdef APP-PLUS || H5 -->\r\n\t\t\t<uni-notice-bar v-else-if=\"subItem.component=='uni-notice-bar'\" v-bind=\"subItem.configs\"\r\n\t\t\t\t@click=\"navTo(subItem.configs.clickUrl)\">\r\n\t\t\t</uni-notice-bar>\r\n\t\t\t<uni-link v-else-if=\"subItem.component=='uni-link'\" v-bind=\"subItem.configs\">\r\n\t\t\t</uni-link>\r\n\t\t\t<uni-title v-else-if=\"subItem.component=='uni-title'\" v-bind=\"subItem.configs\">\r\n\t\t\t</uni-title>\r\n\r\n\t\t\t<uni-rate v-else-if=\"subItem.component=='uni-rate'\" v-bind=\"subItem.configs\">\r\n\t\t\t</uni-rate>\r\n\t\t\t<uni-steps v-else-if=\"subItem.component=='uni-steps'\" v-bind=\"subItem.configs\">\r\n\t\t\t</uni-steps>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t<!-- #ifdef MP -->\r\n\t\t\t<uni-notice-bar v-else-if=\"subItem.component=='uni-notice-bar'\" :text=\"subItem.configs.text\"\r\n\t\t\t\t:backgroundColor=\"subItem.configs.backgroundColor\" :color=\"subItem.configs.color\"\r\n\t\t\t\t:moreColor=\"subItem.configs.moreColor\" :moreText=\"subItem.configs.moreText\"\r\n\t\t\t\t:speed=\"subItem.configs.speed\" :single=\"subItem.configs.single\" :scrollable=\"subItem.configs.scrollable\"\r\n\t\t\t\t:showIcon=\"subItem.configs.showIcon\" :showClose=\"subItem.configs.showClose\"\r\n\t\t\t\t:showGetMore=\"subItem.configs.showGetMore\" @click=\"navTo(subItem.configs.clickUrl)\">\r\n\t\t\t</uni-notice-bar>\r\n\t\t\t<uni-link v-else-if=\"subItem.component=='uni-link'\" :title=\"subItem.configs.title\"\r\n\t\t\t\t:subTitle=\"subItem.configs.subTitle\" :extra=\"subItem.configs.extra\" :note=\"subItem.configs.note\"\r\n\t\t\t\t:thumbnail=\"subItem.configs.thumbnail\" :mode=\"subItem.configs.mode\" :isFull=\"subItem.configs.isFull\"\r\n\t\t\t\t:isShadow=\"subItem.configs.isShadow\" :href=\"subItem.configs.href\" :text=\"subItem.configs.text\"\r\n\t\t\t\t:downlaod=\"subItem.configs.downlaod\" :showUnderLine=\"subItem.configs.showUnderLine\"\r\n\t\t\t\t:copyTips=\"subItem.configs.copyTips\" :color=\"subItem.configs.color\"\r\n\t\t\t\t:fontSize=\"subItem.configs.fontSize\">\r\n\t\t\t</uni-link>\r\n\t\t\t<uni-title v-else-if=\"subItem.component=='uni-title'\" :type=\"subItem.configs.type\"\r\n\t\t\t\t:title=\"subItem.configs.title\" :align=\"subItem.configs.align\" :color=\"subItem.configs.color\"\r\n\t\t\t\t:stat=\"subItem.configs.stat\">\r\n\t\t\t</uni-title>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t<!-- #ifndef MP -->\r\n\t\t\t<ad v-else-if=\"subItem.component == 'ad'\" :adpid=\"subItem.configs.unitid\" :unit-id=\"subItem.configs.unitid\"\r\n\t\t\t\tclass=\"margin-top-22\" />\r\n\t\t\t<!-- #endif -->\r\n\t\t\t<view class=\"preview-cover\" v-if=\"preview\" @click=\"clickPreview(subItem)\"\r\n\t\t\t\t:class=\"{checked:subItem.checked}\">\r\n\t\t\t\t<uni-icons type=\"close\" @click=\"delItem(subItem,index2)\" color=\"#eb4e38\" class=\"btnDelete\" size=\"40\">\r\n\t\t\t\t</uni-icons>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<!-- 有商品模块，初始化此控件 -->\r\n\t\t<tian-goods-sku v-if=\"hasGoodsModule\" :value=\"goods\" ref=\"tianSkuPop\"></tian-goods-sku>\r\n\t</view>\r\n</template>\r\n<script>\r\n\tconst db = uniCloud.database();\r\n\t/**\r\n\t * 普通组件页面\r\n\t * @property {Object} configs 组件配置\r\n\t * @property {Object} styles 组件样式\r\n\t * @property {Array} items 组件静态数据\r\n\t * @property {Number} refresh 刷新值\r\n\t */\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tgoods: {},\r\n\t\t\t\tpageStyle: \"\",\r\n\t\t\t\tdataList: [],\r\n\t\t\t\toptions: {}\r\n\t\t\t}\r\n\t\t},\r\n\t\tprovide() {\r\n\t\t\treturn {\r\n\t\t\t\ttianPage: this\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tconfigs: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => {\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tstyles: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => {\r\n\t\t\t\t\treturn {}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\titems: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault: () => {}\r\n\t\t\t},\r\n\t\t\trefresh: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tloadmore: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tpreview: {\r\n\t\t\t\t//后台预览专用\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t/**\r\n\t\t\t * 是否存在商品模块\r\n\t\t\t */\r\n\t\t\thasGoodsModule() {\r\n\t\t\t\tif (this.dataList) {\r\n\t\t\t\t\treturn this.dataList.filter(e => e.component.indexOf(\"goods\") != -1).length > 0;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tbgClassName() {\r\n\t\t\t\tif (this.options) {\r\n\t\t\t\t\tlet names = []\r\n\t\t\t\t\tif (this.options.bgClassName) {\r\n\t\t\t\t\t\tnames.push(this.options.bgClassName)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.options.isImmersive) {\r\n\t\t\t\t\t\tnames.push(\"immersive\")\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(\"bgClassName\", names)\r\n\t\t\t\t\treturn names.join(\" \")\r\n\t\t\t\t}\r\n\t\t\t\treturn \"\"\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tconfigs(newVal) {\r\n\t\t\t\tthis.buildPage()\r\n\t\t\t\tif (newVal.children) {\r\n\t\t\t\t\t//静态数据\r\n\t\t\t\t\tif (this.preview) {\r\n\t\t\t\t\t\tconsole.log(\"page 重新加载\")\r\n\t\t\t\t\t\tthis.dataList = [];\r\n\t\t\t\t\t\t//延时显示\r\n\t\t\t\t\t\tsetTimeout(() => {}, 120)\r\n\t\t\t\t\t\tthis.dataList = newVal.children;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.dataList = newVal.children;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (newVal.parent_id != this.configs.parent_id) {\r\n\t\t\t\t\t\t//动态数据\r\n\t\t\t\t\t\tthis.loadData()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(\"page newVal\", newVal)\r\n\t\t\t},\r\n\t\t\tloadmore() {\r\n\t\t\t\tconsole.log(\"pages loadmore\")\r\n\t\t\t},\r\n\t\t\trefresh() {\r\n\t\t\t\tconsole.log(\"pages refresh\")\r\n\t\t\t\t// this.dataList = []\r\n\t\t\t\tthis.loadPage()\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t// console.log(\"this.config\", this.configs)\r\n\t\t\tthis.loadPage()\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.loaded = true;\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\thidden() {\r\n\t\t\t\tthis.dataList = []\r\n\t\t\t},\r\n\t\t\tasync loadPage() {\r\n\t\t\t\tawait this.buildPage()\r\n\t\t\t\tif (this.configs.children) {\r\n\t\t\t\t\tthis.dataList = this.checkData(this.configs.children)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.loadData()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tclickPreview(item) {\r\n\t\t\t\tthis.$emit(\"click\", item)\r\n\t\t\t},\r\n\t\t\tdelItem(item, index) {\r\n\t\t\t\tthis.$emit(\"deletes\", item, index)\r\n\t\t\t},\r\n\t\t\tasync buildPage() {\r\n\t\t\t\tlet configs = Object.assign({}, {\r\n\t\t\t\t\t...this.configs,\r\n\t\t\t\t\t...this.configs.configs,\r\n\t\t\t\t\tconfigs: undefined,\r\n\t\t\t\t\tchildren: undefined,\r\n\t\t\t\t})\r\n\t\t\t\tlet page_id = this.configs._id ? this.configs._id : this.configs\r\n\t\t\t\t\t.parent_id;\r\n\t\t\t\t//如果没有页面自己的配置信息，则需要查询一次\r\n\t\t\t\tif (!this.configs.configs) {\r\n\t\t\t\t\tconst {\r\n\t\t\t\t\t\tresult\r\n\t\t\t\t\t} = await db.collection(\"tian-pages\").doc(page_id).field(\"title,configs,city\").get({\r\n\t\t\t\t\t\tgetOne: true\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconsole.log(result)\r\n\t\t\t\t\tif(result.data){\r\n\t\t\t\t\t\tObject.assign(configs, {\r\n\t\t\t\t\t\t\t...result.data,\r\n\t\t\t\t\t\t\t...result.data.configs,\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(\"buildPage page config\", configs)\r\n\t\t\t\tif (configs.title) {\r\n\t\t\t\t\t//设置页面标题\r\n\t\t\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\t\t\ttitle: configs.title\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t//必须同时设置\r\n\t\t\t\tif (configs.topbarColor && configs.topbarBgColor) {\r\n\t\t\t\t\t//设置页面标题\r\n\t\t\t\t\tuni.setNavigationBarColor({\r\n\t\t\t\t\t\tbackgroundColor: configs.topbarBgColor,\r\n\t\t\t\t\t\tfrontColor: configs.topbarColor,\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//默认颜色\r\n\t\t\t\t\tuni.setNavigationBarColor({\r\n\t\t\t\t\t\tbackgroundColor: \"#ffffff\",\r\n\t\t\t\t\t\tfrontColor: \"#000000\",\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthis.pageStyle = \"\";\r\n\t\t\t\tif (configs.backgroundImg) {\r\n\t\t\t\t\tthis.pageStyle =\r\n\t\t\t\t\t\t`background-image:url(${configs.backgroundImg}) ;background-repeat:no-repeat;background-size: 100%;`\r\n\t\t\t\t}\r\n\t\t\t\tif (configs.isImmersive) {\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\ttop\r\n\t\t\t\t\t} = this.systemInfo.custom;\r\n\t\t\t\t\tthis.pageStyle += `padding-top:${top}px;`\r\n\t\t\t\t}\r\n\t\t\t\tthis.options = configs;\r\n\t\t\t\tconsole.log(\"this.pageStyle\", this.pageStyle)\r\n\t\t\t},\r\n\t\t\tloadData() {\r\n\t\t\t\tdb.collection(\"tian-pages\").where(\"state==1\").orderBy(\"posid asc\").get({\r\n\t\t\t\t\tgetTree: {\r\n\t\t\t\t\t\tlimitLevel: 10,\r\n\t\t\t\t\t\tstartWith: `parent_id==\"${this.configs.parent_id}\"`\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(({\r\n\t\t\t\t\tresult\r\n\t\t\t\t}) => {\r\n\t\t\t\t\tthis.dataList = this.checkData(result.data)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcheckData(data) {\r\n\t\t\t\tif (!data) {\r\n\t\t\t\t\tdata = []\r\n\t\t\t\t}\r\n\t\t\t\tdata.forEach(e => {\r\n\t\t\t\t\tif (this.configs.city) {\r\n\t\t\t\t\t\te.configs.city = this.configs.city;\r\n\t\t\t\t\t\tif (e.configs.condition) {\r\n\t\t\t\t\t\t\t//自动增加city过滤\r\n\t\t\t\t\t\t\te.configs.condition += ` && city_ids==\"${this.configs.city}\"`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//传递到子组件，方便后面查询\r\n\t\t\t\t\t\te.city = this.configs.city;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.configs.shop_id) {\r\n\t\t\t\t\t\tif (e.configs.condition) {\r\n\t\t\t\t\t\t\t//自动增加city过滤\r\n\t\t\t\t\t\t\te.configs.condition += ` && shop_id==\"${this.configs.shop_id}\"`\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//传递到子组件，方便后面查询\r\n\t\t\t\t\t\te.shop_id = this.configs.shop_id;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (e.children) {\r\n\t\t\t\t\t\tthis.checkData(e.children);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\treturn data;\r\n\t\t\t},\r\n\t\t\t/**\r\n\t\t\t * 列表上打开sku\r\n\t\t\t * @param {Object} e\r\n\t\t\t */\r\n\t\t\topenSku(e) {\r\n\t\t\t\tconsole.log(\"openSku\", e)\r\n\t\t\t\tthis.goods = e;\r\n\t\t\t\tthis.$refs.tianSkuPop.open();\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n<style lang=\"scss\">\r\n\t.page-container {\r\n\t\t&.immersive {\r\n\t\t\tpadding-top: var(--status-bar-height);\r\n\t\t}\r\n\t}\r\n\r\n\t.component_item {\r\n\t\tposition: relative;\r\n\r\n\t\t.preview-cover {\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 0;\r\n\t\t\ttop: 0;\r\n\t\t\tright: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\tborder: 2rpx solid #f8f8f8;\r\n\t\t\tmin-height: 30px;\r\n\r\n\t\t\t&:hover {\r\n\t\t\t\tborder: 2rpx solid $uni-color-primary;\r\n\t\t\t\tz-index: 10;\r\n\r\n\t\t\t\t.btnDelete {\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t&.checked {\r\n\t\t\t\tborder-color: $uni-color-success;\r\n\t\t\t\tz-index: 10;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\t.btnDelete {\r\n\t\t\tdisplay: none;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0rpx;\r\n\t\t\tright: 0rpx;\r\n\t\t\tz-index: 99;\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tian-pages.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tian-pages.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1682514330019\n      var cssReload = require(\"G:/software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}