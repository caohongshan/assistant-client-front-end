{"version":3,"sources":[null,"webpack:///H:/private/AIproject/psychic/assistant-client-front-end/uni_modules/tian-mall/components/tian-goods-list/tian-goods-list.vue?42fd","webpack:///H:/private/AIproject/psychic/assistant-client-front-end/uni_modules/tian-mall/components/tian-goods-list/tian-goods-list.vue?20b0","webpack:///H:/private/AIproject/psychic/assistant-client-front-end/uni_modules/tian-mall/components/tian-goods-list/tian-goods-list.vue?3527","uni-app:///uni_modules/tian-mall/components/tian-goods-list/tian-goods-list.vue","webpack:///H:/private/AIproject/psychic/assistant-client-front-end/uni_modules/tian-mall/components/tian-goods-list/tian-goods-list.vue?af6f","webpack:///H:/private/AIproject/psychic/assistant-client-front-end/uni_modules/tian-mall/components/tian-goods-list/tian-goods-list.vue?86d6"],"names":["data","isItemClick","bgStyle","page_no","loading","hasMore","goods","dataList","props","configs","type","default","condition","checkLocation","loadmore","withTitle","headerUnderLine","hasCart","headerTitle","waterfall","bgClassName","itemClassName","imageClassName","style","image_size","page_size","scrollY","showMiaosha","withSku","refresh","detailUrl","computed","where","conditions","console","is_on_sale","options","orderby","watch","created","methods","bgClick","loadData","item","width","height","imageSize","scrolltolower","loadMoreData","current","size","navToDetail","openSku","setTimeout"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA4H;AAC5H;AACmE;AACL;AACc;;;AAG5E;AAC+K;AAC/K,gBAAgB,wLAAU;AAC1B,EAAE,qFAAM;AACR,EAAE,0FAAM;AACR,EAAE,mGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,8FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,sQAEN;AACP,KAAK;AACL;AACA,aAAa,8UAEN;AACP,KAAK;AACL;AACA,aAAa,0SAEN;AACP,KAAK;AACL;AACA,aAAa,sQAEN;AACP,KAAK;AACL;AACA,aAAa,0VAEN;AACP,KAAK;AACL;AACA,aAAa,oVAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnEA;AAAA;AAAA;AAAA;AAA2pB,CAAgB,grBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACmF/qB;AACA;AACA;AACA;AACA;AAJA,gBAKA;EACAA;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACAC;MACAC;QACA;UACAC;UACAC;UACAC;UACAV;UACAW;UACAC;UACAC;UACAC;UACAC;UAAA;UACAC;UACAC;UACAC;UACAC;UAAA;UACAC;UACAC;UACAC;UACAC;QACA;MACA;IACA;IACAf;MACAF;MACAC;IACA;IACAiB;MACAlB;MACAC;IACA;IACAkB;MACAnB;MACAC;IACA;IACAG;MACAJ;MACAC;IACA;IACAmB;MACApB;MACAC;IACA;EACA;EACAoB;IACAC;MACA;MACA;QACAC;MACA;MACAC;MACA;QACA;UACA,uCACA;YACAC;UAAA;QAEA;UACAF;QACA;MACA;MACA;IACA;IACAG;MACA,yBACA;IAEA;IACAC;MACA;QACA;MACA;MACA;IACA;EACA;EACAC;IACAxB;MACA;IACA;IACAL;MACA;IAAA,CACA;IACAG;MACA;MACA;MACA;MACAsB;IACA;EACA;EACAK;IACA;EACA;EACAC;IACAC;MACA;QACAP;QACA;MACA;IACA;IACAQ;MAAA;MACAR;MACA;MACAlC;QACA2C;QACAA;QACAA;QACA;QACA;UACA;UACA;YAAA;YAAAC;YAAAC;UACAC;QACA;QACAH;QACA;UACA;YACA;YACA;cACA;gBAAA;gBAAAC;cACA;cACA;cACAD;cACAA;YACA;cACA;cACAA;cACAA;YACA;UACA;UACA;YACAA;UACA;QACA;UACA;UACA;YAAA;YAAAC;YAAAC;UACAF;UACAA;QACA;QACAA;MACA;;MAEA;MACA;QACA;QACA,8CACA;MACA;MACA;QACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAI;MACAb;MACA;MACA;QACA;QACA;MACA;IACA;IACAc;MAAA;MACA;MACA;MACA;MACAd;MACA;MACA;MACAA;MACA;QACAF;UACAG;UACA;QACA;;QACAE;QACAlC;QACAsB;MACA;QACAS;QACA;UACAe;UACAC;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MAAA;MACA;MACA;QACA;QACA;MACA;QACA;MACA;MACA;MACAC;QACA;MACA;MACA;IACA;EACA;AACA;AAAA,4B;;;;;;;;;;;;AClUA;AAAA;AAAA;AAAA;AAA8uC,CAAgB,2sCAAG,EAAC,C;;;;;;;;;;;ACAlwC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"uni_modules/tian-mall/components/tian-goods-list/tian-goods-list.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./tian-goods-list.vue?vue&type=template&id=c9e5c826&\"\nvar renderjs\nimport script from \"./tian-goods-list.vue?vue&type=script&lang=js&\"\nexport * from \"./tian-goods-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tian-goods-list.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/tian-mall/components/tian-goods-list/tian-goods-list.vue\"\nexport default component.exports","export * from \"-!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tian-goods-list.vue?vue&type=template&id=c9e5c826&\"","var components\ntry {\n  components = {\n    tianTitle: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/tian-mall/components/tian-title/tian-title\" */ \"@/uni_modules/tian-mall/components/tian-title/tian-title.vue\"\n      )\n    },\n    tianGoodsImageCover: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/tian-mall/components/tian-goods-image-cover/tian-goods-image-cover\" */ \"@/uni_modules/tian-mall/components/tian-goods-image-cover/tian-goods-image-cover.vue\"\n      )\n    },\n    tianGoodsPrice: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/tian-mall/components/tian-goods-price/tian-goods-price\" */ \"@/uni_modules/tian-mall/components/tian-goods-price/tian-goods-price.vue\"\n      )\n    },\n    tianEmpty: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/tian-mall/components/tian-empty/tian-empty\" */ \"@/uni_modules/tian-mall/components/tian-empty/tian-empty.vue\"\n      )\n    },\n    uniLoadMore: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uni-load-more/components/uni-load-more/uni-load-more\" */ \"@/uni_modules/uni-load-more/components/uni-load-more/uni-load-more.vue\"\n      )\n    },\n    tianGoodsSku: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/tian-mall/components/tian-goods-sku/tian-goods-sku\" */ \"@/uni_modules/tian-mall/components/tian-goods-sku/tian-goods-sku.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = !_vm.loading && _vm.dataList.length == 0\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tian-goods-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tian-goods-list.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"\" @click=\"bgClick\">\r\n\t\t<tian-title v-if=\"configs.withTitle\" :title=\"configs.headerTitle\" :underLine=\"configs.headerUnderLine\" />\r\n\t\t<view :style=\"bgStyle\">\r\n\t\t\t<scroll-view :scroll-y=\"!!configs.scrollY\" style=\"height: 100%;\" @scrolltolower=\"scrolltolower\">\r\n\t\t\t\t<view class=\"goods-list-container\" :class=\"[options.style, options.bgClassName]\">\r\n\t\t\t\t\t<view class=\"goods-list waterfall\" v-if=\"options.waterfall\" :class=\"[options.style]\">\r\n\t\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t\t<!-- 第一页的前2张图片高度要高一些 ，就能形成错位效果-->\r\n\t\t\t\t\t\t\t<view v-for=\"(item, index) in dataList\" :key=\"index\" class=\"under-line goods\"\r\n\t\t\t\t\t\t\t\t:class=\"options.itemClassName\" v-if=\"index % 2 == 0\">\r\n\t\t\t\t\t\t\t\t<tian-goods-image-cover :item=\"item\"></tian-goods-image-cover>\r\n\t\t\t\t\t\t\t\t<image :src=\"item.banner_path\" mode=\"aspectFill\" class=\"image-width-168 goods-image\"\r\n\t\t\t\t\t\t\t\t\t:style=\"item.style\" :class=\"options.imageClassName\" @click=\"navToDetail(index)\">\r\n\t\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t\t<view class=\"goods-content\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"title text-2\" @click=\"navToDetail(index)\">\r\n\t\t\t\t\t\t\t\t\t\t<text>{{ item.name }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"desc colorGray font-24 text-2 padding-top-8\" v-if=\"item.goods_summary\">\r\n\t\t\t\t\t\t\t\t\t\t<text>{{ item.goods_summary }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<tian-goods-price :hasCart=\"item.hasCart\" :hasSaleCount=\"item.hasSaleCount\"\r\n\t\t\t\t\t\t\t\t\t\t:value=\"item\" @click=\"openSku(index)\" :showWholesale=\"configs.wholesale\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t\t\t<view v-for=\"(item, index) in dataList\" :key=\"index\" class=\"under-line goods\"\r\n\t\t\t\t\t\t\t\t:class=\"options.itemClassName\" v-if=\"index % 2 != 0\">\r\n\t\t\t\t\t\t\t\t<tian-goods-image-cover :item=\"item\"></tian-goods-image-cover>\r\n\t\t\t\t\t\t\t\t<image :src=\"item.banner_path\" mode=\"aspectFill\" class=\"image-width-168 goods-image\"\r\n\t\t\t\t\t\t\t\t\t:style=\"item.style\" :class=\"options.imageClassName\" @click=\"navToDetail(index)\">\r\n\t\t\t\t\t\t\t\t</image>\r\n\t\t\t\t\t\t\t\t<view class=\"goods-content\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"title text-2\" @click=\"navToDetail(index)\">\r\n\t\t\t\t\t\t\t\t\t\t<text>{{ item.name }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"desc colorGray font-24 text-2 padding-top-8\" v-if=\"item.goods_summary\">\r\n\t\t\t\t\t\t\t\t\t\t<text>{{ item.goods_summary }}</text>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t\t<tian-goods-price :hasCart=\"item.hasCart\" :hasSaleCount=\"item.hasSaleCount\"\r\n\t\t\t\t\t\t\t\t\t\t:value=\"item\" @click=\"openSku(index)\" :showWholesale=\"configs.wholesale\" />\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-else class=\"goods-list\" :class=\"[options.style]\">\r\n\t\t\t\t\t\t<view v-for=\"(item, index) in dataList\" :key=\"index\" class=\"under-line goods\"\r\n\t\t\t\t\t\t\t:class=\"options.itemClassName\">\r\n\t\t\t\t\t\t\t<tian-goods-image-cover :item=\"item\"></tian-goods-image-cover>\r\n\t\t\t\t\t\t\t<image :src=\"item.banner_path\" mode=\"aspectFill\" class=\"image-width-168 goods-image\"\r\n\t\t\t\t\t\t\t\t:style=\"item.style\" :class=\"options.imageClassName\" @click=\"navToDetail(index)\"></image>\r\n\t\t\t\t\t\t\t<view class=\"goods-content\">\r\n\t\t\t\t\t\t\t\t<view class=\"title\" @click=\"navToDetail(index)\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"text-2\">{{ item.name }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"desc colorGray font-24 text-2 padding-top-8\" v-if=\"item.goods_summary\">\r\n\t\t\t\t\t\t\t\t\t<text>{{ item.goods_summary }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"miaosha-process ti-flex\"\r\n\t\t\t\t\t\t\t\t\tv-if=\"options.showMiaosha && item.miaosha && item.miaosha.is_begin\">\r\n\t\t\t\t\t\t\t\t\t<progress activeColor=\"#ff3b00\" :active=\"true\" class=\"progress-box\"\r\n\t\t\t\t\t\t\t\t\t\t:percent=\"item.miaosha.progress\"></progress>\r\n\t\t\t\t\t\t\t\t\t<text class=\"colorGray margin-left-30 font-24\">已售{{ item.miaosha.progress }}%</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<tian-goods-price :hasCart=\"item.hasCart\" :showListMiaosha=\"options.showMiaosha\"\r\n\t\t\t\t\t\t\t\t\t:hasSaleCount=\"item.hasSaleCount\" :value=\"item\" @click=\"openSku(index)\"\r\n\t\t\t\t\t\t\t\t\t:showWholesale=\"configs.wholesale\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<tian-empty v-if=\"!loading && dataList.length == 0\" text=\"暂无数据\" marginTop=\"200\" />\r\n\t\t\t\t<uni-load-more v-else-if=\"options.loading\" status=\"loading\" />\r\n\t\t\t\t<uni-load-more v-else-if=\"options.loadmore\" :status=\"loading ? 'loading' : hasMore ? 'more' : 'noMore'\" />\r\n\t\t\t\t<tian-goods-sku v-if=\"withSku\" :value=\"goods\" ref=\"tianSkuPop\" />\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t/**\r\n\t * 商品列表，\r\n\t * 左图右文字，两图，一大图\r\n\t * @param {String} category_id 分类id\r\n\t */\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisItemClick: false,\r\n\t\t\t\tbgStyle: '',\r\n\t\t\t\tpage_no: 0,\r\n\t\t\t\tloading: true,\r\n\t\t\t\thasMore: true,\r\n\t\t\t\tgoods: {},\r\n\t\t\t\tdataList: []\r\n\t\t\t};\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tconfigs: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tcondition: '',\r\n\t\t\t\t\t\tcheckLocation: true,\r\n\t\t\t\t\t\tloadmore: false,\r\n\t\t\t\t\t\tloading: false,\r\n\t\t\t\t\t\twithTitle: false,\r\n\t\t\t\t\t\theaderUnderLine: false,\r\n\t\t\t\t\t\thasCart: true,\r\n\t\t\t\t\t\theaderTitle: '',\r\n\t\t\t\t\t\twaterfall: false, //2022-04-28是否瀑布流展示\r\n\t\t\t\t\t\tbgClassName: 'none',\r\n\t\t\t\t\t\titemClassName: 'none',\r\n\t\t\t\t\t\timageClassName: 'none',\r\n\t\t\t\t\t\tstyle: '', //style-gride,style-padding\r\n\t\t\t\t\t\timage_size: '260x260',\r\n\t\t\t\t\t\tpage_size: 20,\r\n\t\t\t\t\t\tscrollY: false,\r\n\t\t\t\t\t\tshowMiaosha: false\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcondition: {\r\n\t\t\t\ttype: [String, Object],\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\twithSku: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: true\r\n\t\t\t},\r\n\t\t\trefresh: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tloadmore: {\r\n\t\t\t\ttype: Number,\r\n\t\t\t\tdefault: 0\r\n\t\t\t},\r\n\t\t\tdetailUrl: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: '/pages/product/detail'\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\twhere() {\r\n\t\t\t\tlet conditions = ['is_on_sale==true'];\r\n\t\t\t\tif (this.configs && this.configs.condition) {\r\n\t\t\t\t\tconditions.push(`(${this.configs.condition})`);\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log('where computed');\r\n\t\t\t\tif (this.condition) {\r\n\t\t\t\t\tif (typeof this.condition == 'object') {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t...this.condition,\r\n\t\t\t\t\t\t\tis_on_sale: true\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconditions.push(`(${this.condition})`);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn conditions.join(' && ');\r\n\t\t\t},\r\n\t\t\toptions() {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...this.configs\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\torderby() {\r\n\t\t\t\tif (this.configs && this.configs.order) {\r\n\t\t\t\t\treturn this.configs.order;\r\n\t\t\t\t}\r\n\t\t\t\treturn 'last_modify_date desc';\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tloadmore() {\r\n\t\t\t\tthis.scrolltolower();\r\n\t\t\t},\r\n\t\t\tconfigs(newVal) {\r\n\t\t\t\t// console.log('goods list configs', newVal);\r\n\t\t\t},\r\n\t\t\tcondition(newVal) {\r\n\t\t\t\t// console.log('goods list condition', newVal);\r\n\t\t\t\tthis.page_no = 0\r\n\t\t\t\tthis.loadMoreData();\r\n\t\t\t\tconsole.log(\"重新加载商品列表数据\")\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.loadMoreData();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tbgClick() {\r\n\t\t\t\tif (!this.isItemClick && this.configs.top_url) {\r\n\t\t\t\t\tconsole.log('bg click');\r\n\t\t\t\t\tthis.navTo(this.configs.top_url);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tloadData(data, ended, pagination) {\r\n\t\t\t\tconsole.log('goods list', data, ended, pagination);\r\n\t\t\t\t//处理图片尺寸 | thumbImg('80x80')\r\n\t\t\t\tdata.forEach((item, index) => {\r\n\t\t\t\t\titem.style = '';\r\n\t\t\t\t\titem.hasCart = this.configs.hasCart && !!item.is_real;\r\n\t\t\t\t\titem.hasSaleCount = false;\r\n\t\t\t\t\tlet imageSize = this.configs.image_size || '260x260';\r\n\t\t\t\t\tif (this.configs.waterfall && index / 2 < 2 && index % 2 == 0 && pagination.current == 1) {\r\n\t\t\t\t\t\t//第一页的前2张图片高度要高一些 ，就能形成错位效果\r\n\t\t\t\t\t\tlet [width, height] = imageSize.split('x');\r\n\t\t\t\t\t\timageSize = [width, height * 1 + 40].join('x');\r\n\t\t\t\t\t}\r\n\t\t\t\t\titem.banner_path = this.$thumbImg(item.goods_thumb, imageSize);\r\n\t\t\t\t\tif (this.configs.style == 'style-big-image') {\r\n\t\t\t\t\t\tif (item.goods_banner && item.goods_banner.path) {\r\n\t\t\t\t\t\t\tlet banner = item.goods_banner;\r\n\t\t\t\t\t\t\tif (imageSize) {\r\n\t\t\t\t\t\t\t\tlet [width] = imageSize.split('x');\r\n\t\t\t\t\t\t\t\t//等宽缩放\r\n\t\t\t\t\t\t\t\tlet height = parseInt((banner.image.height * width) / banner.image.width);\r\n\t\t\t\t\t\t\t\titem.style = `width:${width}rpx;height:${height}rpx;`;\r\n\t\t\t\t\t\t\t\titem.banner_path = this.$thumbImg(banner.path, `${width}x${height}`);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t//不做裁剪\r\n\t\t\t\t\t\t\t\titem.banner_path = banner.path;\r\n\t\t\t\t\t\t\t\titem.style = `width:${banner.image.width}rpx;height:${banner.image.height}rpx;`;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (!item.is_real) {\r\n\t\t\t\t\t\t\titem.hasSaleCount = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t//最多30个字\r\n\t\t\t\t\t\tlet [width, height] = imageSize.split('x');\r\n\t\t\t\t\t\titem.style = `width:${width}rpx;height:${height}rpx;`;\r\n\t\t\t\t\t\titem.name = item.name ? item.name.substr(0, 30) : '';\r\n\t\t\t\t\t}\r\n\t\t\t\t\titem.imageSize = imageSize;\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// console.log(\"goods loadData\", data)\r\n\t\t\t\tif (this.configs.background_img) {\r\n\t\t\t\t\t// console.log(\"this.configs.background_img\", this.configs.background_img)\r\n\t\t\t\t\tthis.bgStyle =\r\n\t\t\t\t\t\t`background-image:url(${this.configs.background_img}) ; background-repeat: no-repeat;    background-size: 100%;`;\r\n\t\t\t\t}\r\n\t\t\t\tif (pagination.current == 1) {\r\n\t\t\t\t\tthis.dataList = [];\r\n\t\t\t\t}\r\n\t\t\t\t//最终的数据列表\r\n\t\t\t\tthis.dataList = this.dataList.concat(data);\r\n\t\t\t\t//2列显示\r\n\t\t\t\t// if (this.configs.waterfall) {\r\n\t\t\t\t// \tlet left = [],\r\n\t\t\t\t// \t\tright = []\r\n\t\t\t\t// \tdata.map((e, index) => {\r\n\t\t\t\t// \t\tif (index % 2 == 0) {\r\n\t\t\t\t// \t\t\tleft.push(e)\r\n\t\t\t\t// \t\t} else {\r\n\t\t\t\t// \t\t\tright.push(e)\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t})\r\n\t\t\t\t// \tdata[0] = left;\r\n\t\t\t\t// \tdata[1] = right;\r\n\t\t\t\t// \tconsole.log(\"goods loadData\", data)\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\t\t\tscrolltolower() {\r\n\t\t\t\tconsole.log('goods scrolltolower');\r\n\t\t\t\t//查询下一页\r\n\t\t\t\tif (this.configs.loadmore) {\r\n\t\t\t\t\t// this.$refs.udb.loadMore();\r\n\t\t\t\t\tthis.loadMoreData();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tloadMoreData() {\r\n\t\t\t\tthis.page_no++;\r\n\t\t\t\tlet page_size = this.configs.page_size ? this.configs.page_size : 20;\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tconsole.log('goods loadmore');\r\n\t\t\t\t// this.$refs.udb.loadMore();\r\n\t\t\t\tconst whereArr = this.where.split(\" && \");\r\n\t\t\t\tconsole.log(\"whereArr==\", whereArr)\r\n\t\t\t\tthis.$request('mall/goods/goodsList', {\r\n\t\t\t\t\twhere: {\r\n\t\t\t\t\t\tis_on_sale: whereArr[0].split(\"==\")[1] == 'true',\r\n\t\t\t\t\t\t// name: whereArr[1].replace(/^\\(|\\)$/g, \"\").split(\":\")[1]\r\n\t\t\t\t\t},\r\n\t\t\t\t\torderby: this.orderby,\r\n\t\t\t\t\tpage_no: this.page_no,\r\n\t\t\t\t\tpage_size\r\n\t\t\t\t}).then(result => {\r\n\t\t\t\t\t\tconsole.log(result);\r\n\t\t\t\t\t\tthis.loadData(result, result.length != page_size, {\r\n\t\t\t\t\t\t\tcurrent: this.page_no,\r\n\t\t\t\t\t\t\tsize: page_size\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t\tthis.hasMore = result.length == page_size;\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tnavToDetail(index) {\r\n\t\t\t\tlet item = this.dataList[index];\r\n\t\t\t\tthis.navTo(this.detailUrl + '?id=' + item._id, item);\r\n\t\t\t},\r\n\t\t\topenSku(index) {\r\n\t\t\t\tlet item = this.dataList[index];\r\n\t\t\t\tif (this.withSku) {\r\n\t\t\t\t\tthis.goods = item;\r\n\t\t\t\t\tthis.$refs.tianSkuPop.open();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$emit('click', item);\r\n\t\t\t\t}\r\n\t\t\t\tthis.isItemClick = true;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.isItemClick = false;\r\n\t\t\t\t}, 2000);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tpage {\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.goods-list-container {\r\n\t\tbackground: $uni-bg-color;\r\n\t\theight: 100%;\r\n\t\t// margin-left: $uni-spacing-row-base;//2022-08-25电商首页左右不对称\r\n\t\t// padding-top: 8rpx;\r\n\t\tborder-radius: $uni-border-radius-base;\r\n\r\n\t\t&.style-padding {\r\n\t\t\tbackground: none;\r\n\t\t}\r\n\r\n\t\t&.style-gride {\r\n\t\t\tbackground: none;\r\n\t\t}\r\n\r\n\t\t&.full {\r\n\t\t\tmargin: 0;\r\n\t\t\tborder-radius: 0;\r\n\t\t}\r\n\r\n\t\t.goods-list {\r\n\t\t\t// padding: 10rpx 26rpx 10rpx 16rpx;\r\n\r\n\t\t\t.desc {\r\n\t\t\t\t// display: none;\r\n\t\t\t}\r\n\r\n\t\t\t.under-line:nth-last-child(1)::after {\r\n\t\t\t\tdisplay: none;\r\n\t\t\t}\r\n\r\n\t\t\t.goods {\r\n\t\t\t\tmargin-bottom: 12rpx;\r\n\t\t\t\tpadding: 0 0 14rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tposition: relative;\r\n\t\t\t}\r\n\r\n\t\t\t.goods-image {\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\twidth: 168rpx;\r\n\t\t\t\theight: 168rpx;\r\n\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.goods-content {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tmargin-left: 24rpx;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t}\r\n\r\n\t\t\t.miaosha-process {\r\n\t\t\t\t.progress-box {\r\n\t\t\t\t\twidth: 200rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t&.style-padding {\r\n\t\t\t\tbackground: none;\r\n\t\t\t\tmargin: $uni-spacing-row-base;\r\n\t\t\t\tmargin-top: 0;\r\n\t\t\t\tpadding: 0;\r\n\r\n\t\t\t\t.goods {\r\n\t\t\t\t\tbackground: $uni-bg-color;\r\n\t\t\t\t\tmargin-bottom: $uni-spacing-row-base;\r\n\t\t\t\t\tpadding: $uni-spacing-row-base;\r\n\t\t\t\t\tborder-radius: $uni-border-radius-base;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t&.style-gride {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\t// padding: 0 $uni-spacing-row-base;\r\n\t\t\t\t// margin-top: $uni-spacing-row-base;\r\n\r\n\t\t\t\t.goods {\r\n\t\t\t\t\tbackground: $uni-bg-color;\r\n\t\t\t\t\twidth: calc(50% - 14rpx);\r\n\t\t\t\t\tpadding: 0 0 $uni-spacing-row-base;\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\tborder-radius: $uni-border-radius-lg;\r\n\t\t\t\t\tmargin-bottom: $uni-spacing-row-base;\r\n\r\n\t\t\t\t\t.goods-content {\r\n\t\t\t\t\t\tmargin: 0 $uni-spacing-row-base;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.goods-image {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 350rpx;\r\n\t\t\t\t\t\tborder-radius: 12rpx 12rpx 0 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&:nth-child(2n) {\r\n\t\t\t\t\t\tmargin-left: 24rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t&.style-big-image {\r\n\t\t\t\tpadding: 0;\r\n\r\n\t\t\t\t.desc {\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.goods {\r\n\t\t\t\t\tpadding: 0;\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\tbackground: #ffffff;\r\n\t\t\t\t\tmargin-bottom: 22rpx;\r\n\t\t\t\t\tborder-radius: 22rpx;\r\n\t\t\t\t\tpadding-bottom: 16rpx;\r\n\r\n\t\t\t\t\t.title {\r\n\t\t\t\t\t\tfont-size: 34rpx;\r\n\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.goods-image {\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 300rpx;\r\n\t\t\t\t\t\tmargin: 0 auto;\r\n\t\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\t\tborder-radius: 22rpx 22rpx 0 0;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.goods-content {\r\n\t\t\t\t\t\tmargin-top: 16rpx;\r\n\t\t\t\t\t\tmargin-right: 24rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t&.waterfall {\r\n\t\t\t\tdisplay: flex;\r\n\r\n\t\t\t\t.left {\r\n\t\t\t\t\twidth: calc(50% - 8px);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.right {\r\n\t\t\t\t\twidth: calc(50% - 8px);\r\n\t\t\t\t\tmargin-left: 24rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.goods-image {\r\n\t\t\t\t\twidth: 100% !important;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.under-line::after {\r\n\t\t\t\t\tdisplay: none;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.goods {\r\n\t\t\t\t\twidth: 100%;\r\n\r\n\t\t\t\t\t&:nth-child(2n) {\r\n\t\t\t\t\t\tmargin-left: 0rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tian-goods-list.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!G:\\\\software\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./tian-goods-list.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1682521567231\n      var cssReload = require(\"G:/software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}